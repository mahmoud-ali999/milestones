<!DOCTYPE html>
<html dir="rtl" lang="ar">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.rtl.min.css"
    integrity="sha384-gXt9imSW0VcJVHezoNQsP+TNrjYXoGcrqBZJpry9zJt8PCQjobwmhMGaDHTASo9N" crossorigin="anonymous" />
  
  <link rel="stylesheet" href="style.css">  <title>Document</title>
</head>

<body>
  <nav class="navbar navbar-light bg-transparent">
    <div class="container d-flex justify-content-center">
      <a class="navbar-brand" href="#">
        <img src="images/Untitled-1 copy.png" alt="" width="100" height="70">
      </a>
    </div>
  </nav>
  <div class="container">
    <h1>الاستبيان</h1>
    <form>
      <div class="row">
        <div class="col-md-12">
          <h2>
            من المعلوم ان الفاتحه ركن اساسي من اركان الصلاة ولا تصح للمسلم
            الصلاة بدونها.
          </h2>
          <div class="mb-3">
            <h4 class="mb-5">كم عدد الآيات فى سورة الفاتحه؟</h4>
            <div class="form-check form-check-inline">
              <input class="form-check-input" type="radio" name="versesCount" id="5" value="5" />
              <label class="form-check-label" for="5">5</label>
            </div>
            <div class="form-check form-check-inline">
              <input class="form-check-input" type="radio" name="versesCount" id="7" value="5" />
              <label class="form-check-label" for="7">7</label>
            </div>
            <div class="form-check form-check-inline">
              <input class="form-check-input" type="radio" name="versesCount" id="9" value="9" />
              <label class="form-check-label" for="9">9</label>
            </div>
          </div>
          <div class="mb-3">
            <h4 class="mb-5">كم تحفظ منها؟</h4>
            <div class="form-check form-check-inline">
              <input class="form-check-input" type="radio" name="remember" id="all" value="all" />
              <label class="form-check-label" for="all">احفظها بالكامل</label>
            </div>
            <div class="form-check form-check-inline">
              <input class="form-check-input" type="radio" name="remember" id="partial" value="partial" />
              <label class="form-check-label" for="partial">بعض آيات</label>
            </div>
            <div class="form-check form-check-inline">
              <input class="form-check-input" type="radio" name="remember" id="none" value="none" />
              <label class="form-check-label" for="none">لا احفظها</label>
            </div>
          </div>
          <div id="noOfVersesQuest" class="mb-3" style="display: none;">
            <h4 class="mb-5">كم آيه تحفظ؟</h4>
            <div class="form-check form-check-inline">
              <input class="form-check-input" type="radio" name="noOfVerses" id="1" value="1" />
              <label class="form-check-label" for="1">1</label>
            </div>
            <div class="form-check form-check-inline">
              <input class="form-check-input" type="radio" name="noOfVerses" id="2" value="2" />
              <label class="form-check-label" for="2">2</label>
            </div>
            <div class="form-check form-check-inline">
              <input class="form-check-input" type="radio" name="noOfVerses" id="3" value="3" />
              <label class="form-check-label" for="3">3</label>
            </div>
            <div class="form-check form-check-inline">
              <input class="form-check-input" type="radio" name="noOfVerses" id="4" value="4" />
              <label class="form-check-label" for="4">4</label>
            </div>
            <div class="form-check form-check-inline">
              <input class="form-check-input" type="radio" name="noOfVerses" id="5" value="5" />
              <label class="form-check-label" for="5">5</label>
            </div>
            <div class="form-check form-check-inline">
              <input class="form-check-input" type="radio" name="noOfVerses" id="6" value="6" />
              <label class="form-check-label" for="6">6</label>
            </div>
            <div class="form-check form-check-inline">
              <input class="form-check-input" type="radio" name="noOfVerses" id="7" value="7" />
              <label class="form-check-label" for="7">7</label>
            </div>
          </div>
        </div>
        <div id="order" class="col-md-12">
          <!-- <h1>.أبجد هوز حطى كلمن هوى ، إجراءات المراقبة المعززة. التوازن ، الاحتياجات</h1> -->
          <h2 class="mb-3">قم بترتيب الآيات ترتيبا صحيحا</h2>
          <div class="mb-3">
            <div class="form-check form-check-inline">
              <input class="form-check-input" type="radio" name="mode" id="easy" value="easy" checked />
              <label class="form-check-label" for="easy">سهل</label>
            </div>
            <div class="form-check form-check-inline">
              <input class="form-check-input" type="radio" name="mode" id="advance" value="advance" />
              <label class="form-check-label" for="advance">متقدم</label>
            </div>
          </div>
          <div class="mb-3">
            <div id="drop-container" class="d-flex flex-wrap justify-content-start align-items-center w-100 border border-1 mb-3"
              style="height: 100px" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
            <div id="content-container"
              class="d-flex flex-wrap justify-content-start align-items-center w-100 border border-1"
              style="height: 100px">

            </div>
          </div>
        </div>
        <div class="col-md-12 d-flex justify-content-center">
          <button id="submit" class="btn btn-primary">أرسال</button>
        </div>
      </div>
    </form>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
    crossorigin="anonymous"></script>
  <script src="script.js" defer>

  </script>
  <script defer>
    function shuffle(array) {
      let currentIndex = array.length, randomIndex;

      // While there remain elements to shuffle.
      while (currentIndex != 0) {

        // Pick a remaining element.
        randomIndex = Math.floor(Math.random() * currentIndex);
        currentIndex--;

        // And swap it with the current element.
        [array[currentIndex], array[randomIndex]] = [
          array[randomIndex], array[currentIndex]];
      }

      return array;
    }
    var words = ["بسۡمِ", "ٱللَّهِ", "ٱلرَّحۡمَٰنِ", "ٱلرَّحِيمِ", "ٱلۡحَمۡدُ", "لَّهِ", "رَبِّ", "ٱلۡعَٰلَمِينَ", "ٱلرَّحۡمَٰنِ", "ٱلرَّحِيمِ", "مَٰلِكِ", "يَوۡمِ", "ٱلدِّينِ", "إِيَّاكَ", "نَعۡبُدُ", "وَإِيَّاكَ", "نَسۡتَعِينُ", "ٱهۡدِنَا", "ٱلصِّرَٰطَ", "ٱلۡمُسۡتَقِيمَ", "صِرَٰطَ", "ٱلَّذِينَ", "أَنۡعَمۡتَ", "عَلَيۡهِمۡ", "غَيۡرِ", "ٱلۡمَغۡضُوبِ", "عَلَيۡهِمۡ", "وَلَا", "ٱلضَّآلِّينَ"]
    var verses = ["بِسۡمِ ٱللَّهِ ٱلرَّحۡمَٰنِ ٱلرَّحِيمِ", "ٱلۡحَمۡدُ لِلَّهِ رَبِّ ٱلۡعَٰلَمِينَ", "ٱلرَّحۡمَٰنِ ٱلرَّحِيمِ", "مَٰلِكِ يَوۡمِ ٱلدِّينِ", "إِيَّاكَ نَعۡبُدُ وَإِيَّاكَ نَسۡتَعِينُ", "ٱهْدِنَا ٱلصِّرَٰطَ ٱلْمُسْتَقِيمَ", "صِرَٰطَ ٱلَّذِينَ أَنْعَمْتَ عَلَيْهِمْ غَيْرِ ٱلْمَغْضُوبِ عَلَيْهِمْ وَلَا ٱلضَّآلِّينَ"]
    console.log(words, verses);
    shuffle(words);
    shuffle(verses);
    document.getElementById("order").style.display = "none";

    var rememberingOptions = document.querySelectorAll('input[name="remember"]');
    [...rememberingOptions].forEach(function (ele, index) {
      ele.addEventListener('change', () => {
        var remembering = ele.value != 'none';
        if (remembering){
          document.getElementById("order").style.display = "block";
          if(ele.value=="partial"){
            document.getElementById("noOfVersesQuest").style.display = "block";
          }else{
            document.getElementById("noOfVersesQuest").style.display = "none";
          }
          document.getElementById("submit").setAttribute("disabled","disabled")
          createDragableOptions(verses);

        }
        else
          document.getElementById("order").style.display = "none";

      })
    })

    var modeOptions = document.querySelectorAll('input[name="mode"]');
    [...modeOptions].forEach(function (ele, index) {
      ele.addEventListener('change', () => {
        document.getElementById('drop-container').innerHTML='';
        if (ele.value == 'easy') {
          createDragableOptions(verses)
        }
        else {
          createDragableOptions(words)
        }
      })
    })

    function createDragableOptions(elements) {
      var fragment = document.createDocumentFragment();
      var container = document.getElementById("content-container");
      var children = container.children;
      [...children].forEach(function (item, idx) {
        item.remove();
      })
      elements.forEach(function (val, index) {
        var element = document.createElement("div")
        element.setAttribute("class", "badge rounded-pill bg-primary mx-3 px-2 py-3 d-inline-block");
        element.setAttribute("ondragstart", "drag(event)");
        element.setAttribute("draggable", "true");
        element.setAttribute("id", "drage" + index.toString());
        element.innerText = val;
        fragment.append(element);
      })
      container.append(fragment);
    }
  </script>
</body>

</html>